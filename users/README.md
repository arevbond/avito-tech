# Сервис пользоваталей

Маленький вспомогтальный сервис для генерации и верификации токена.

## Запуск проекта

Чтобы запустить этот проект, выполните следующие шаги:

1. Запустите команду `make setup`:

    ```bash
    $ make setup
    ```

   Это автоматизирует все необходимые шаги для подготовки к запуску проекта, включая очистку, установку зависимостей, запуск Docker Compose, миграцию базы данных и запуск сервиса.


2.  После завершения всех шагов, чтобы запустить проект в будущем, вы можете использовать команду:

    ```bash
    $ make run
    ```

    Это запустит ваш проект на основе предыдущих настроек, выполненных командой `make setup`.

## API 

### Регистрация пользователя

#### `POST /register`

Регистрирует нового пользователя в системе.

#### Запрос

```json
{
  "username": "example_user",
  "password": "example_password",
  "is_admin": true
}
```

    username (обязательно): Логин пользователя.
    password (обязательно): Пароль пользователя.
    is_admin (опционально): Определяет, является ли пользователь администратором (по умолчанию false).

#### Ответ


```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9...",
  "user_id": "1234567890"
}
```

### Проверка валидности токена
#### ` POST /verify-token`

Проверяет валидность JWT токена.
#### Запрос

```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

#### Ответ

```json
{
  "valid": true
}
```

### Проверка наличия прав администратора
#### `POST /is-admin`

Проверяет наличие прав администратора у пользователя по JWT токену.
#### Запрос

```json
{
  "token": "eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9..."
}
```

#### Ответ

```json
{
  "is_admin": true
}
```
